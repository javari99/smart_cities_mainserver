<section class="min-h-screen w-full flex flex-col divide-y divide-indigo-600">
    <!--Video surveillance-->
    <div class="mb-5 w-full">
        <div class="flex justify-center my-5">
            <h1 class="font-extrabold text-4xl tracking-tight text-gray-800">Surveillance</h1>
        </div>
        <div class="w-full md:w-4/5 lg:w-3/4 xl:w-2/3 bg-gray-100 mx-auto">
            <canvas id="cameraSurveillance" style="width: 100%;"></canvas>
        </div>
    </div>
    <!--Suggestions table-->
    <div class="w-full my-5">
        <div class="flex justify-center my-5">
            <h1 class="font-extrabold text-4xl tracking-tight text-gray-800">Suggestions</h1>
        </div>
        <div class="mx-auto w-full sm:w-2/3 sm:mx-auto overflow-auto max-h-80">
            <div class="bg-white shadow-md rounded my-6">
                <table class="text-left w-full border-collapse table-auto">
                    <thead class="bg-indigo-200">
                        <tr>
                            <th class="py-4 px-6  font-bold uppercase text-sm text-gray-800 border-b border-gray-600">
                                ID</th>
                            <th class="py-4 px-6  font-bold uppercase text-sm text-grey-dark border-b border-gray-600">
                                Message</th>
                            <th class="py-4 px-6  font-bold uppercase text-sm text-grey-dark border-b border-gray-600">
                                Rating</th>
                        </tr>
                    </thead>
                    <tbody id="suggestionsTableBody">
                    {{#each suggestionsList}}
                        <tr class="hover:bg-gray-100">
                            <td class="py-4 px-6 border-b font-bold">{{this.id}}</td>
                            <td class="py-4 px-6 border-b ">
                                <p class="text-grey-800  py-1 px-3 rounded text-sm">{{this.suggestion}}</p>
                            </td>
                            <td class="py-4 px-6 border-b ">
                                <p class="text-grey-800 font-bold py-1 px-3 rounded">{{this.rating}}/10</p>
                            </td>
                        </tr>
                    {{else}}
                        <tr class="hover:bg-gray-100">
                            <td class="py-4 px-6 border-b" colspan="3">
                                <p class="text-grey-800  py-1 px-3 rounded text-sm">No suggestions have been made yet.</p>
                            </td>
                        </tr>
                    {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="w-full flex flex-col justify-center">
        <div class="flex justify-center my-5">
            <h1 class="font-extrabold text-4xl tracking-tight text-gray-800">Records</h1>
        </div>
        <!--TODO: implement graphs-->
        <div class="mx-auto w-full sm:w-2/3 sm:mx-auto" id="Graphs">
        </div>
        <!--Records Table-->
        <div class="mx-auto w-full sm:w-2/3 sm:mx-auto overflow-auto max-h-80 mb-10">
            <div class="bg-white shadow-md rounded my-6">
                <table class="text-left w-full border-collapse table-auto">
                    <thead class="bg-indigo-200">
                        <tr>
                            <th class="py-4 px-6  font-bold uppercase text-sm text-gray-800 border-b border-gray-600">
                                ID</th>
                            <th class="py-4 px-6  font-bold uppercase text-sm text-grey-dark border-b border-gray-600">
                                Mote ID</th>
                            <th class="py-4 px-6  font-bold uppercase text-sm text-grey-dark border-b border-gray-600">
                                Timestamp</th>
                            <th class="py-4 px-6  font-bold uppercase text-sm text-grey-dark border-b border-gray-600">
                                Light</th>
                            <th class="py-4 px-6  font-bold uppercase text-sm text-grey-dark border-b border-gray-600">
                                Temperature</th>
                            <th class="py-4 px-6  font-bold uppercase text-sm text-grey-dark border-b border-gray-600">
                                Led Level</th>
                        </tr>
                    </thead>
                    <tbody id="recordsTableBody">
                    {{#each recordsList}}
                        <tr class="hover:bg-gray-100">
                            <td class="py-4 px-6 border-b font-bold">{{this.id}}</td>
                            <td class="py-4 px-6 border-b ">
                                <p class="text-grey-800  py-1 px-3 rounded text-sm">{{this.mode_id}}</p>
                            </td>
                            <td class="py-4 px-6 border-b ">
                                <p class="text-grey-800  py-1 px-3 rounded text-sm">{{this.timestamp}}</p>
                            </td>
                            <td class="py-4 px-6 border-b ">
                                <p class="text-grey-800  py-1 px-3 rounded text-sm">{{this.light}}</p>
                            </td>
                            <td class="py-4 px-6 border-b ">
                                <p class="text-grey-800  py-1 px-3 rounded text-sm">{{this.temperature}}</p>
                            </td>
                            <td class="py-4 px-6 border-b ">
                                <p class="text-grey-800  py-1 px-3 rounded text-sm">{{this.ledlevel}}</p>
                            </td>
                        </tr>
                    {{else}}
                        <tr class="hover:bg-gray-100">
                            <td class="py-4 px-6 border-b" colspan="6">
                                <p class="text-grey-800  py-1 px-3 rounded text-sm">No records have been received yet</p>
                            </td>
                        </tr>
                    {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
<script src="{{{scriptUrl}}}"></script>
<script>
    loadPlayer({
        url:"ws://" + location.host + "/api/stream",
        canvas: document.getElementById('cameraSurveillance'),
    });
</script>